
<div class="container">
  <div class="card">
    <div class="card-header bg-success">
      New Employee
    </div>
    <div class="card-body">
      <form [formGroup]="employeeForm">
        <div class="row">
          <div class="col-12">
            <label for="">Name</label>
            <input type="text" formControlName="name" class="form-control">
            <div class="text-danger" *ngIf="employeeForm.controls['name'].touched && employeeForm.controls['name'].invalid">
              <span *ngIf="employeeForm.controls['name'].errors?.['required']">Name is required</span>
            </div>
          </div>
          <div class="col-6">
            <label for="">Email-Id</label>
            <input type="email" formControlName="emailId" class="form-control">
            <div class="text-danger" *ngIf="employeeForm.controls['emailId'].touched && employeeForm.controls['emailId'].invalid">
              <span *ngIf="employeeForm.controls['emailId'].errors?.['required']">Email is required</span>
              <span *ngIf="employeeForm.controls['emailId'].errors?.['email']">Enter a valid email</span>
            </div>
          </div>
          <div class="col-6">
            <label for="">Contact No</label>
            <input type="text" formControlName="contactNo" class="form-control">
            <div class="text-danger" *ngIf="employeeForm.controls['contactNo'].touched && employeeForm.controls['contactNo'].invalid">
              <span *ngIf="employeeForm.controls['contactNo'].errors?.['required']">Contact number is required</span>
              <span *ngIf="employeeForm.controls['contactNo'].errors?.['pattern']">Must be a 10-digit number</span>
            </div>
          </div>
          <div class="col-6">
            <label for="">City</label>
            <input type="text" formControlName="city" class="form-control">
          </div>
          <div class="col-6">
            <label for="">State</label>
            <!-- <input type="text" formControlName="state" class="form-control"> -->
            <select formControlName="state" class="form-control">
              <option selected disabled value="">Choose...</option>
              <option *ngFor=" let state of states"> {{state}}  </option>
            </select>
          </div>
          <div class="col-6">
            <label for="">Pin Code</label>
            <input type="text" formControlName="pinCode" class="form-control">
            <div class="text-danger">
              @if(employeeForm.controls['pinCode'].touched) {
                @if (employeeForm.controls['pinCode'].errors?.['required']) {
                  <span> Pin Code Required </span>
                } 
                @if (employeeForm.controls['pinCode'].errors?.['minlength']) {
                  <span> Min 6 Char Required</span>
                } 
              }
              
            </div>
          </div>
          <div class="col-12">
            <label for="">Address</label>
            <textarea formControlName="address" class="form-control"></textarea>
          </div>
        </div>
        <div class="row  pt-2">
          <div class="col-6 text-center">
            <button class="btn btn-secondary" type="button" (click)="reset()">Reset</button>
          </div>
          <div class="col-6 text-center">
            @if(employeeForm.controls['empid'].value == '1') {
              <button type="button" class="btn btn-success" [disabled]="employeeForm.invalid" (click)="onSave()">Save Employee</button>
            } @else {
              <button type="button" class="btn btn-warning" [disabled]="employeeForm.invalid"  (click)="onUpdate()">Update Employee</button>
            } 
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<br>
<br>

<div class="container">
  <app-display-emp [empList] = "employeeList"></app-display-emp>
</div>


